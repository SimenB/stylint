// Accounts

// Login page

// .login-page,
// .password-reset
//   // $TODO should be an extend
//   .make-row()
//

// .account-form-container
  // make-sm-column( 6 )
  // make-sm-column-offset( 3 )


.reset-form
  // @extends $bg-stripe
  // @extends $shadow-m
  border-radius: 10px
  margin: 9ex 0
  padding: 4ex 3em
  text-align: center

  .error-message
    color: $color-rose

  // button
  //   @extends $button-purple

  input
    margin-bottom: 2ex
    &.error
      border-color: $color-rose

  p
    color: $color-gray-l
    font-size: $font-small
    text-align: left

  // @media ( min-width: $screen-sm-min )
  //   make-xs-column-offset( 4 )


// Account dashboard
.user-dashboard
  .error-message
    color: $color-rose

  .modal-content
    color: $color-gray-m
    font-size: .8em

    h4
      color: $color-purple
      margin: 0
      text-align: center

    input
      margin-top: 2.0ex

  .page-header
    border: 0

    // @media ( min-width: $screen-lg-min )
    //   make-lg-column( 10 )
    //   make-lg-column-offset( 2 )

    // @media ( min-width: $screen-xl-min )
    //   make-lg-column( 9 )
    //   make-lg-column-offset( 3 )

  .saved
    // @extends $bg-yellow
    color: $color-gray-d
    padding: .2em inherit
    text-align: center

  // $TODO excessive specificity?
  > .header
    // make-xs-column( 12 )
    padding: 3em 0 .5em

    // $TODO excessive specificity?
    > h1
      color: $color-purple-xd
      font-size: 2.2em
      text-align: center

      @media ( min-width: $screen-lg-min )
        display: inline-block

    // @media ( min-width: $screen-lg-min ) and ( max-width: $screen-lg-max )
    //   make-lg-column( 10 )
    //   make-lg-column-offset( 2 )

    // @media ( min-width: $screen-xl-min )
    //   make-lg-column( 9 )
    //   make-lg-column-offset( 3 )

  // $TODO excessive specifity?
  // @REPLACE
  // > .nav
    // @extends .drug-navigation-plum
    // make-xs-column( 12 )

    // @media ( min-width: $screen-lg-min ) and ( max-width: $screen-lg-max )
    //   make-lg-column(2)

    // @media ( min-width: $screen-xl-min )
    //   make-lg-column(3)

  // @REPLACE
  // $TODO excessive specifity?
  // > .body
    // make-xs-column( 12 )

    // @media ( min-width: $screen-lg-min ) and ( max-width: $screen-lg-max )
    //   make-lg-column( 10 )

    // @media ( min-width: $screen-xl-min )
    //   make-lg-column( 9 )

  .personal-settings
     // $TODO make-row should be an extend
    // .make-row()

    // $TODO excessive specifity?
    > section
      margin-bottom: 3ex
      margin-left: 2em
      text-align: left

      @media ( min-width: $screen-sm-min )
        margin-left: 2em

      // @media ( min-width: $screen-sm-min ) and ( max-width: $screen-md-max )
      //   make-sm-column-offset( 2 )

    // h3
    //   color: $color-green-l !important

    .demographics
      display: inline-block

      // $TODO excessive specifity?
      // $TODO getting way too nested
      > div
        margin: .3em
        padding: .2em inherit

        // .form-control
          // $TODO input-sm should be an extend
          // @extends $input-sm

      .age
        width: 5em

    // $TODO excessive specifity?
    .personalize
      // @extends $bg-stripe
      border: 1px solid $color-green-l

    .personalization-bar
      // make-xs-column( 6 ) @REPLACE
      display: inline-block
      font-size: $font-small
      padding: 0
      text-align: left
      user-select: none
      vertical-align: top

      h2
        font-size: 1.4em
        margin: 0

      .ss-icon
        font-size: 1.5em
        margin: 0 .3em

      // $TODO excessive specifity?
      .personalization-button
        transition( all, $fast, true )
        background: $color-white
        border-radius: 12px
        border: 1px solid $color-green
        box-shadow: none
        color: $color-green-l
        cursor: pointer
        padding: .25em .8em

        &.active
          background: $color-green
          border-color: $color-green
          color: $color-white

      .toggles
        // $TODO excessive specifity?
        > span
          display: inline-block
          margin: .3em
          padding: .5em inherit

        .label
          color: $color-gray-m

        .disabled
          opacity: .7
          pointer-events: none

          > a
            border-style: dashed
            cursor: not-allowed

    > .conditions,
    .medications
      // @extends $bg-stripe
      border: 1px solid $color-green-l

    .item
      border-radius: 5px
      cursor: pointer
      display: inline-block
      font-size: .8em
      margin-right: .5em
      padding: .5em
      user-select: none

      &.undo
        background-color: $color-white
        border: 1px dashed $color-green
        color: $color-green

      .ss-icon
        padding-left: 1em


  // $TODO excessive specifity? i really doubt this needs to be nested
  // are there account-settings on other parts of the site?
  .account-settings
    // make-row should be an extend
    // .make-row()
    color: $color-gray-m
    font-size: .8em

    h3
      color: $color-purple !important

    // $TODO excessive specifity?
    > section
      margin-bottom: 3ex
      margin-left: 2em

      @media ( min-width: $screen-sm-min )
        margin-left: 2em

      // @media ( min-width: $screen-sm-min ) and ( max-width: $screen-md-max )
      //   make-sm-column-offset( 2 )

    // .error-message
    //   text-align: center
    //

    // $TODO excessive specifity?
    .account-info
      // @extends $bg-stripe
      border: 1px solid $color-purple
      margin-bottom: 2ex

      input
        margin-bottom: 2ex

    // $TODO excessive specifity?
    .privacy
      // $TODO should be an extend
      // @extends $bg-stripe
      border: 1px solid $color-purple

      input
        margin: 0.5em

  // .password-settings
    // $TODO make-row should be an extend
    // .make-row()

    // h3
    //   color: $color-purple !important

    // $TODO excessive specifity?
    > section
      color: $color-gray-m
      font-size: .8em
      margin-bottom: 3ex

      @media ( min-width: $screen-sm-min )
        margin-left: 2em

      // @media ( min-width: $screen-sm-min ) and ( max-width: $screen-md-max )
      //   make-sm-column-offset( 2 )

    // $TODO excessive specifity?
    > .password-info
      // @extends $bg-stripe
      border: 1px solid $color-purple

      input
        margin-bottom: 2ex


// Account settings page
// .account-settings-page
  // $TODO should be an extend
  // .make-row()


.account-settings
  // make-sm-column( 6 )
  // make-sm-column-offset( 3 )
  // @extends $bg-stripe
  // @extends $shadow-m
  border-radius: 10px
  margin: 9ex 0
  padding: 4ex 3em

  // $TODO excessive specifity?
  > section
    padding: .5em 0 2.5em
    width: 100%

  // $TODO excessive specifity?
  > section + section
    border-top: 1px solid $color-gray-xxxl

  h2
    color: $color-purple
    text-align: center

  h3,
  h4
    margin-top: 0

  h3
    margin-bottom: .75em

  h4
    font-size: 1em
    margin-bottom: 0

  p
    margin-bottom: 1em

  .saved
    // @extends $bg-yellow
    color: $color-gray-d
    padding: .2em inherit
    text-align: center

  .demographics
    margin: .75em 0 2em

    > div,
    > a
      display: inline-block
      margin-right: .5em

    .age
      width: 5em

  .personalization-list
    // $TODO excessive specifity?
    > section
      margin-bottom: 1.75em

    h4
      color: $color-gray-m
      font-size: $font-small
      line-height: 1.3


  .item
    border-radius: 5px
    cursor: pointer
    display: inline-block
    font-size: .8em
    margin-right: .5em
    padding: .5em
    user-select: none

    &.undo
      border: 1px dashed $color-green
      background-color: $color-white
      color: $color-green

    .ss-icon
      padding-left: 1em

  // .subscriptions
    // .item
    //   border-radius: 5px
    //   cursor: pointer
    //   display: inline-block
    //   font-size: .8em
    //   margin-right: .5em
    //   padding: .5em
    //   user-select: none

    //   &.undo
    //     border: 1px dashed $color-green
    //     background-color: $color-white
    //     color: $color-green
    //

    //   .ss-icon
    //     padding-left: 1em
    //
    //
  //

  // $TODO excessive specifity?
  button
    // @extends $button-purple
    margin-top: .5em


// Account form
.account-form
  // @extends $bg-stripe
  // @extends $shadow-m
  border-radius: 10px
  margin: 9ex 0
  padding: 4ex 3em

  .disclaimer
    color: $color-gray-l
    font-size: .7em
    margin-top: 1ex
    text-align: center

  .error-message
    color: $color-rose
    margin-top: 3ex
    text-align: center

  &.inline
    background: none
    box-shadow: none
    margin: 0 !important

  // > section
  //   // $TODO should be an extend
  //   .make-row()
  //

  .title
    text-align: center

    h2
      color: $color-purple

    h3
      color: $color-gray-l
      font-size: 1.3em
      margin: 0 0 1.5ex 0

    &.sign-up
      h2
        color: $color-green

  .form-footer
    text-align: center

    // button
      // @extends $btn
      // @extends $button-purple
      // .btn
      // .button-purple

    &.sign-up
      button
        // @extends $button-green
        // .button-green

  .login-social
    // make-sm-column( 6 )
    padding-top: 1.5ex
    text-align: center

  .login-form
    // make-sm-column( 6 )
    border-left: 1px solid $color-gray-xxl
    text-align: center

  &.inline
    border-radius: 0

  .guru
    background: url( '/images/branding/guru.png' )
    background-repeat: no-repeat
    background-size: contain
    height: 100px
    width: 504px


#onboard-btns
  height: 65px
  top: -50px

  // $TODO excessive specifity?
  // getting too nested
  a
    transition( color, $fast )
    background: none
    border-radius: 4px
    border: 1px solid $color-white

    &:hover
      color: @color-white

      &.log-in
        background: $color-purple-l

      &.sign-up
        background: $color-green-l

    &:focus,
    &:active
      outline: 0

      &.log-in
        background: $color-purple-l
        box-shadow: 0 0 10px $color-purple-l

      &.sign-up
        background: $color-green-l
        box-shadow: 0 0 10px $color-green-l


// User account widget (in Iodine bar)
.user-bar
  @media $mob
    padding-bottom: 1000px
    padding-top: 15px

  .login-social
    @media $mob
      margin-bottom: 30px

      // $TODO excessive specifity?
      > a > div
        background-size: cover

  .account-form.inline
    padding: 7px 0 15px 15px

    @media $mob-plus
      padding-right: 15px

    .title
      margin-bottom: 1em

    .login-form
      border-color: $color-purple

      @media $mob
        border: 0

      .form-group
        margin-bottom: 5px

      // .form-control
        // @extends $input-sm
        // @extends .input-sm )

      // .btn
        // @extends $btn-sm
        // @extends .btn-sm )

  .subscribe,
  .unsubscribe
    color: $color-blue-neon !important
    display: block
    font-size: $font-small
    padding: .5em 13px
    transition: color .3s ease

    &:hover
      // $TODO use of !important needed?
      color: $color-white !important

  .dropdown-toggle
    border-radius: 0
    border: 0 !important
    box-shadow: none
    height: 100%
    padding: inherit $user-bar-button-padding

    .ss-user
      font-size: 1.3em

    .ss-dropdown
      font-size: .7em

  .btn-group
    height: 100%
    line-height: $account-popup-height
    vertical-align: top

    > button
      background: none

  .dropdown-menu
    border-radius: 0 0 4px 4px
    border-top: 0 !important
    color: $color-gray-m !important
    margin-top: 0

    .divider
      // $TODO use of important needed?
      margin: 0 0 9px !important

    // a
      // $TODO use of important needed?
      // color: $color-purple !important

      &:hover,
      &:active
        background-color: $color-green-l
        // $TODO use of important needed?
        color: white !important

    .disabled
      a
        // $TODO use of important needed?
        color: $color-gray-xl !important
        cursor: text

        &:hover,
        &:active
          background: none
          // $TODO is there a reason for this to be duped?
          color: $color-gray-xl !important
          color: inherit


.user-popover
  // $TODO use of important needed?
  position: relative !important


// Google button
.google-button
  background: url( '/images/branding/google-signin.png' )
  background-repeat: no-repeat
  background-size: contain
  min-height: 60px
  width: 100%

  &:hover
    opacity: .8

  &:active
    opacity: 1


// Sign in with Facebook button
.facebook-button
  background: url( '/images/branding/facebook-signin.png' )
  background-repeat: no-repeat
  background-size: contain
  min-height: 60px
  width: 100%

  &:hover
    opacity: .8

  &:active
    opacity: 1.0
